<?php

/**
 * Написати програму на PHP, яка містить іменовану функцію, що приймає три аргументи:
 * два обовʼязкових типу int і третій необовʼязковий типу closure
 * Функція має повертати результат множення першого і другого аргументів,
 * а в разі передачі третього аргументу (анонімної функції), перед return має викликати анонімну функції і передати в неї результат обчислення.
 * Реалізувати аноннімну функцію, яка виводить на екран переданий аргумент.
 *
 **/

// Іменована функція, яка приймає два обов'язкових аргументи та третій необов'язковий аргумент типу closure
function calculateProduct($num1, $num2, $callback = null) {
    $result = $num1 * $num2;

    // Перевіряємо, чи передано анонімну функцію (closure)
    if ($callback !== null && is_callable($callback)) {
        $result = $callback($result); // Викликаємо передану функцію з результатом
    }

    return $result;
}

// Анонімна функція, яка виводить переданий аргумент на екран
$printCallback = function ($value) {
    echo "Результат обчислення: $value\n";
};

// Виклик функції без передачі анонімної функції
$result1 = calculateProduct(5, 3);
echo "Результат без callback: $result1\n";

// Виклик функції з передачею анонімної функції
$result2 = calculateProduct(7, 4, $printCallback);